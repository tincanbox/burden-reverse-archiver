<template id="template--form-upload">
  <section>
    <div class="form-group">
      <form-upload-file
        v-bind:stat="stat"
        ></form-upload-file>
    </div>

    <!--

      AFTER GENERATION

    -->

    <div v-if="stat.decomped" v-hidden>

      <div class="form-group">
        <div class="form-check">
          <input
            class="form-check-input"
            type="checkbox"
            id="form-input-toggle_archive_each_content"
            name="toggle_archive_each_content">
          <label class="form-check-label" for="form-input-toggle_archive_each_content">
            各エントリー毎のディレクトリをZIP形式で圧縮する。
          </label>
          <p class="text-muted"><small>
            デフォルトでは各エントリーはディレクトリとして分けられ、そのまま保存されますが、
            その分別後のディレクトリをZIP形式で圧縮します。
            ※ 
          </small></p>
        </div>
      </div>

      <div class="form-group">

        <label>保存時エントリー名フォーマット</label>
        <p><small>
        保存する際の名称を設定します。
        Group01/Yamada.pdf を Yamada様/Group01_資料.pdf のように、
        特定の文字を付与する場合などに変更します。
        </small></p>

        <div class="form-group">
          <label>グループ名フォーマット</label>
          <input class="form-control" name="group_name_format" value="%name%">
        </div>

        <div class="form-group">
          <label>各エントリー</label>
          <input class="form-control" name="entry_name_format" value="%hier%">
        </div>

        <label>置換設定（再圧縮後のファイル・ディレクトリ名に含まれる文字を置換します。）</label>
        <p><small>
        Group01/Yamada.pdf, Group02/MrYamada.pdf のように、
        ファイル名が統一されていない場合に特定の文字列を置換して結果が同じになる場合は同一のエントリーとして扱います。
        <br> FROM="Mr" TO="" とした場合、上記の２ファイルは Yamada/Group01.pdf, Yamada/Group02.pdf に変換されます。
        </small></p>


        <div class="form-group">
          <button
             class="btn btn-info action-add-replacer-row"
             v-on:click="add_row">Add</button>
        </div>
        <form-upload-replacer
             v-bind:stat="stat"
             ></form-upload-replacer>

      </div>

    </div>

</section>
</template>

<template id="template--form-upload-file">
  <div class="input-group">
    <div class="input-group-prepend">
      <span class="input-group-text" id="uploading-addon">ZIPファイル選択</span>
    </div>
    <div class="custom-file">
      <input
        id="upload"
        type="file"
        class="custom-file-input"
        name="upload"
        aria-describedby="uploading-addon"
        placeholder=""
        v-on:change="update"
        >
      <label class="custom-file-label" for="upload"></label>
    </div>
  </div>
</template>

<template id="template--form-upload-replacer">
<section>
  <div
    class="replacer row form-group"
    v-for="r of stat.replacer">
    <div class="col-md-6">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">FROM</span>
        </div>
        <input class="form-control"
          name="replacer-from[]"
          v-model="r.from">
      </div>
    </div>
    <div class="col-md-6">
      <div class="input-group">
        <div class="input-group-prepend">
          <span class="input-group-text">TO</span>
        </div>
        <input
          class="form-control"
          name="replacer-to[]"
          v-model="r.to">
      </div>
    </div>
  </div>
</section>
</template>

<script src="/asset/script/component/form-upload.js"></script>
